{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Snackbar } from '@mui/material';\nimport clsx from 'clsx';\nimport { useNotificationContext, undoableEventEmitter, useTranslate } from 'ra-core';\nvar defaultAnchorOrigin = {\n  vertical: 'bottom',\n  horizontal: 'center'\n};\n/**\n * Provides a way to show a notification.\n * @see useNotify\n *\n * @example <caption>Basic usage</caption>\n * <Notification />\n *\n * @param props The component props\n * @param {string} props.type The notification type. Defaults to 'info'.\n * @param {number} props.autoHideDuration Duration in milliseconds to wait until hiding a given notification. Defaults to 4000.\n * @param {boolean} props.multiLine Set it to `true` if the notification message should be shown in more than one line.\n */\nexport var Notification = function (props) {\n  var _a;\n  var className = props.className,\n    _b = props.type,\n    type = _b === void 0 ? 'info' : _b,\n    _c = props.autoHideDuration,\n    autoHideDuration = _c === void 0 ? 4000 : _c,\n    _d = props.multiLine,\n    multiLine = _d === void 0 ? false : _d,\n    _e = props.anchorOrigin,\n    anchorOrigin = _e === void 0 ? defaultAnchorOrigin : _e,\n    rest = __rest(props, [\"className\", \"type\", \"autoHideDuration\", \"multiLine\", \"anchorOrigin\"]);\n  var _f = useNotificationContext(),\n    notifications = _f.notifications,\n    takeNotification = _f.takeNotification;\n  var _g = useState(false),\n    open = _g[0],\n    setOpen = _g[1];\n  var _h = React.useState(undefined),\n    messageInfo = _h[0],\n    setMessageInfo = _h[1];\n  var translate = useTranslate();\n  useEffect(function () {\n    if (notifications.length && !messageInfo) {\n      // Set a new snack when we don't have an active one\n      setMessageInfo(takeNotification());\n      setOpen(true);\n    } else if (notifications.length && messageInfo && open) {\n      // Close an active snack when a new one is added\n      setOpen(false);\n    }\n  }, [notifications, messageInfo, open, takeNotification]);\n  var handleRequestClose = useCallback(function () {\n    setOpen(false);\n  }, [setOpen]);\n  var handleExited = useCallback(function () {\n    if (messageInfo && messageInfo.notificationOptions.undoable) {\n      undoableEventEmitter.emit('end', {\n        isUndo: false\n      });\n    }\n    setMessageInfo(undefined);\n  }, [messageInfo]);\n  var handleUndo = useCallback(function () {\n    undoableEventEmitter.emit('end', {\n      isUndo: true\n    });\n    setOpen(false);\n  }, []);\n  if (!messageInfo) return null;\n  return React.createElement(StyledSnackbar, __assign({\n    className: className,\n    open: open,\n    message: messageInfo.message && translate(messageInfo.message, messageInfo.notificationOptions.messageArgs),\n    autoHideDuration: messageInfo.notificationOptions.autoHideDuration || autoHideDuration,\n    disableWindowBlurListener: messageInfo.notificationOptions.undoable,\n    TransitionProps: {\n      onExited: handleExited\n    },\n    onClose: handleRequestClose,\n    ContentProps: {\n      className: clsx(NotificationClasses[messageInfo.type || type], (_a = {}, _a[NotificationClasses.multiLine] = messageInfo.notificationOptions.multiLine || multiLine, _a))\n    },\n    action: messageInfo.notificationOptions.undoable ? React.createElement(Button, {\n      color: \"primary\",\n      className: NotificationClasses.undo,\n      size: \"small\",\n      onClick: handleUndo\n    }, React.createElement(React.Fragment, null, translate('ra.action.undo'))) : null,\n    anchorOrigin: anchorOrigin\n  }, rest));\n};\nNotification.propTypes = {\n  type: PropTypes.string,\n  autoHideDuration: PropTypes.number,\n  multiLine: PropTypes.bool\n};\nvar PREFIX = 'RaNotification';\nexport var NotificationClasses = {\n  success: \"\".concat(PREFIX, \"-success\"),\n  error: \"\".concat(PREFIX, \"-error\"),\n  warning: \"\".concat(PREFIX, \"-warning\"),\n  undo: \"\".concat(PREFIX, \"-undo\"),\n  multiLine: \"\".concat(PREFIX, \"-multiLine\")\n};\nvar StyledSnackbar = styled(Snackbar, {\n  name: PREFIX,\n  overridesResolver: function (props, styles) {\n    return styles.root;\n  }\n})(function (_a) {\n  var _b;\n  var theme = _a.theme,\n    type = _a.type;\n  return _b = {}, _b[\"& .\".concat(NotificationClasses.success)] = {\n    backgroundColor: theme.palette.success.main,\n    color: theme.palette.success.contrastText\n  }, _b[\"& .\".concat(NotificationClasses.error)] = {\n    backgroundColor: theme.palette.error.dark,\n    color: theme.palette.error.contrastText\n  }, _b[\"& .\".concat(NotificationClasses.warning)] = {\n    backgroundColor: theme.palette.error.light,\n    color: theme.palette.error.contrastText\n  }, _b[\"& .\".concat(NotificationClasses.undo)] = {\n    color: type === 'success' ? theme.palette.success.contrastText : theme.palette.primary.light\n  }, _b[\"& .\".concat(NotificationClasses.multiLine)] = {\n    whiteSpace: 'pre-wrap'\n  }, _b;\n});","map":{"version":3,"mappings":"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","names":["React","styled","useState","useEffect","useCallback","PropTypes","Button","Snackbar","clsx","useNotificationContext","undoableEventEmitter","useTranslate","defaultAnchorOrigin","vertical","horizontal","Notification","props","_b","type","_c","autoHideDuration","_d","multiLine","_e","anchorOrigin","rest","notifications","takeNotification","open","setOpen","undefined","messageInfo","setMessageInfo","translate","length","handleRequestClose","handleExited","notificationOptions","undoable","emit","isUndo","handleUndo","StyledSnackbar","className","message","messageArgs","disableWindowBlurListener","TransitionProps","onExited","onClose","ContentProps","NotificationClasses","_a","action","color","undo","size","onClick","propTypes","string","number","bool","PREFIX","success","error","warning","name","overridesResolver","styles","root","theme","backgroundColor","palette","main","contrastText","dark","light","primary","whiteSpace"],"sourceRoot":"","sources":["../../../src/layout/Notification.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}