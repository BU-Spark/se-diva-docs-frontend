{"ast":null,"code":"import * as React from 'react';\nimport { FieldTitle, useResourceContext } from 'ra-core';\nimport { Switch, Typography } from '@mui/material';\nimport DragIcon from '@mui/icons-material/DragIndicator';\nimport { styled } from '@mui/material/styles';\n/**\n * UI to enable/disable a field\n */\nexport var FieldToggle = function (props) {\n  var selected = props.selected,\n    label = props.label,\n    onToggle = props.onToggle,\n    onMove = props.onMove,\n    source = props.source,\n    index = props.index;\n  var resource = useResourceContext();\n  var dropIndex = React.useRef(null);\n  var handleDrag = function (event) {\n    // imperative DOM manipulations using the native Drag API\n    var selectedItem = event.target;\n    selectedItem.classList.add('drag-active');\n    var list = selectedItem.parentNode;\n    var x = event.clientX;\n    var y = event.clientY;\n    var dropItem = document.elementFromPoint(x, y) === null ? selectedItem : document.elementFromPoint(x, y);\n    if (dropItem.classList.contains('dragIcon')) {\n      dropItem = dropItem.parentNode;\n    }\n    if (dropItem === selectedItem) {\n      return;\n    }\n    if (list === dropItem.parentNode) {\n      dropIndex.current = dropItem.dataset.index;\n      if (dropItem === selectedItem.nextSibling) {\n        dropItem = dropItem.nextSibling;\n      }\n      list.insertBefore(selectedItem, dropItem);\n    }\n  };\n  var handleDragEnd = function (event) {\n    var selectedItem = event.target;\n    onMove(selectedItem.dataset.index, dropIndex.current);\n    selectedItem.classList.remove('drag-active');\n  };\n  var handleDragOver = function (event) {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n  };\n  return React.createElement(Root, {\n    key: source,\n    draggable: onMove ? 'true' : undefined,\n    onDrag: onMove ? handleDrag : undefined,\n    onDragEnd: onMove ? handleDragEnd : undefined,\n    onDragOver: onMove ? handleDragOver : undefined,\n    \"data-index\": index\n  }, React.createElement(\"label\", {\n    htmlFor: \"switch_\".concat(index)\n  }, React.createElement(Switch, {\n    checked: selected,\n    onChange: onToggle,\n    name: index,\n    id: \"switch_\".concat(index),\n    size: \"small\",\n    sx: {\n      mr: 0.5,\n      ml: -0.5\n    }\n  }), React.createElement(Typography, {\n    variant: \"body2\",\n    component: \"span\"\n  }, React.createElement(FieldTitle, {\n    label: label,\n    source: source,\n    resource: resource\n  }))), onMove && React.createElement(DragIcon, {\n    className: \"dragIcon\",\n    color: \"disabled\",\n    fontSize: \"small\"\n  }));\n};\nvar Root = styled('div')(function (_a) {\n  var theme = _a.theme;\n  return {\n    display: 'flex',\n    justifyContent: 'space-between',\n    '& svg': {\n      cursor: 'move'\n    },\n    '&.drag-active': {\n      background: 'transparent',\n      color: 'transparent',\n      outline: \"1px solid \".concat(theme.palette.action.selected),\n      '& .MuiSwitch-root, & svg': {\n        visibility: 'hidden'\n      }\n    }\n  };\n});","map":{"version":3,"mappings":"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","names":["React","FieldTitle","useResourceContext","Switch","Typography","DragIcon","styled","FieldToggle","props","label","onToggle","onMove","source","index","resource","dropIndex","useRef","handleDrag","selectedItem","event","target","classList","add","list","parentNode","x","clientX","y","clientY","dropItem","document","elementFromPoint","contains","current","dataset","nextSibling","insertBefore","handleDragEnd","remove","handleDragOver","preventDefault","dataTransfer","dropEffect","Root","key","draggable","undefined","onDrag","onDragEnd","onDragOver","htmlFor","checked","selected","onChange","name","id","size","sx","mr","ml","variant","component","className","color","fontSize","_a","theme","display","justifyContent","cursor","background","outline","palette","action","visibility"],"sources":["/Users/paigedeveau/Desktop/se-diva-docs-frontend/bwmdn-admin-portal/node_modules/ra-ui-materialui/src/preferences/FieldToggle.tsx"],"sourcesContent":["import * as React from 'react';\nimport { FieldTitle, useResourceContext } from 'ra-core';\nimport { Switch, Typography } from '@mui/material';\nimport DragIcon from '@mui/icons-material/DragIndicator';\nimport { styled } from '@mui/material/styles';\n\n/**\n * UI to enable/disable a field\n */\nexport const FieldToggle = props => {\n    const { selected, label, onToggle, onMove, source, index } = props;\n    const resource = useResourceContext();\n    const dropIndex = React.useRef<number>(null);\n\n    const handleDrag = event => {\n        // imperative DOM manipulations using the native Drag API\n        const selectedItem = event.target;\n        selectedItem.classList.add('drag-active');\n        const list = selectedItem.parentNode;\n        const x = event.clientX;\n        const y = event.clientY;\n        let dropItem =\n            document.elementFromPoint(x, y) === null\n                ? selectedItem\n                : document.elementFromPoint(x, y);\n        if (dropItem.classList.contains('dragIcon')) {\n            dropItem = dropItem.parentNode;\n        }\n        if (dropItem === selectedItem) {\n            return;\n        }\n        if (list === dropItem.parentNode) {\n            dropIndex.current = dropItem.dataset.index;\n            if (dropItem === selectedItem.nextSibling) {\n                dropItem = dropItem.nextSibling;\n            }\n            list.insertBefore(selectedItem, dropItem);\n        }\n    };\n\n    const handleDragEnd = event => {\n        const selectedItem = event.target;\n        onMove(selectedItem.dataset.index, dropIndex.current);\n        selectedItem.classList.remove('drag-active');\n    };\n\n    const handleDragOver = event => {\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'move';\n    };\n\n    return (\n        <Root\n            key={source}\n            draggable={onMove ? 'true' : undefined}\n            onDrag={onMove ? handleDrag : undefined}\n            onDragEnd={onMove ? handleDragEnd : undefined}\n            onDragOver={onMove ? handleDragOver : undefined}\n            data-index={index}\n        >\n            <label htmlFor={`switch_${index}`}>\n                <Switch\n                    checked={selected}\n                    onChange={onToggle}\n                    name={index}\n                    id={`switch_${index}`}\n                    size=\"small\"\n                    sx={{ mr: 0.5, ml: -0.5 }}\n                />\n                <Typography variant=\"body2\" component=\"span\">\n                    <FieldTitle\n                        label={label}\n                        source={source}\n                        resource={resource}\n                    />\n                </Typography>\n            </label>\n            {onMove && (\n                <DragIcon\n                    className=\"dragIcon\"\n                    color=\"disabled\"\n                    fontSize=\"small\"\n                />\n            )}\n        </Root>\n    );\n};\n\nconst Root = styled('div')(({ theme }) => ({\n    display: 'flex',\n    justifyContent: 'space-between',\n    '& svg': {\n        cursor: 'move',\n    },\n    '&.drag-active': {\n        background: 'transparent',\n        color: 'transparent',\n        outline: `1px solid ${theme.palette.action.selected}`,\n        '& .MuiSwitch-root, & svg': {\n            visibility: 'hidden',\n        },\n    },\n}));\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}