{"ast":null,"code":"import * as React from 'react';\nimport { useState } from 'react';\nimport { useListContext, useTranslate } from 'ra-core';\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, TextField } from '@mui/material';\nimport { extractValidSavedQueries, useSavedQueries } from './useSavedQueries';\nexport var AddSavedQueryDialog = function (_a) {\n  var open = _a.open,\n    onClose = _a.onClose;\n  var translate = useTranslate();\n  var _b = useListContext(),\n    resource = _b.resource,\n    filterValues = _b.filterValues,\n    displayedFilters = _b.displayedFilters,\n    sort = _b.sort,\n    perPage = _b.perPage;\n  var _c = useSavedQueries(resource),\n    savedQueries = _c[0],\n    setSavedQueries = _c[1];\n  // input state\n  var _d = useState(''),\n    queryName = _d[0],\n    setQueryName = _d[1];\n  var handleQueryNameChange = function (event) {\n    setQueryName(event.target.value);\n  };\n  var handleFormSubmit = function (e) {\n    e.preventDefault();\n    addQuery();\n  };\n  var addQuery = function () {\n    var newSavedQuery = {\n      label: queryName,\n      value: {\n        filter: filterValues,\n        sort: sort,\n        perPage: perPage,\n        displayedFilters: displayedFilters\n      }\n    };\n    var newSavedQueries = extractValidSavedQueries(savedQueries);\n    setSavedQueries(newSavedQueries.concat(newSavedQuery));\n    setQueryName('');\n    onClose();\n  };\n  return React.createElement(Dialog, {\n    open: open,\n    onClose: onClose,\n    \"aria-labelledby\": \"form-dialog-title\"\n  }, React.createElement(DialogTitle, {\n    id: \"form-dialog-title\"\n  }, translate('ra.saved_queries.new_dialog_title', {\n    _: 'Save current query as'\n  })), React.createElement(DialogContent, null, React.createElement(\"form\", {\n    onSubmit: handleFormSubmit\n  }, React.createElement(TextField\n  // eslint-disable-next-line jsx-a11y/no-autofocus\n  , {\n    // eslint-disable-next-line jsx-a11y/no-autofocus\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"name\",\n    label: translate('ra.saved_queries.query_name', {\n      _: 'Query name'\n    }),\n    fullWidth: true,\n    value: queryName,\n    onChange: handleQueryNameChange\n  }))), React.createElement(DialogActions, null, React.createElement(Button, {\n    onClick: onClose\n  }, translate('ra.action.cancel')), React.createElement(Button, {\n    onClick: addQuery,\n    color: \"primary\"\n  }, translate('ra.action.save'))));\n};","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAA+CC,QAAQ,QAAQ,OAAO;AACtE,SAASC,cAAc,EAAEC,YAAY,QAAQ,SAAS;AACtD,SACIC,MAAM,EACNC,MAAM,EACNC,aAAa,EACbC,aAAa,EACbC,WAAW,EACXC,SAAS,QACN,eAAe;AAEtB,SAASC,wBAAwB,EAAEC,eAAe,QAAQ,mBAAmB;AAE7E,OAAO,IAAMC,mBAAmB,GAAG,UAACC,EAGT;MAFvBC,IAAI;IACJC,OAAO;EAEP,IAAMC,SAAS,GAAGb,YAAY,EAAE;EAC1B,SAMFD,cAAc,EAAE;IALhBe,QAAQ;IACRC,YAAY;IACZC,gBAAgB;IAChBC,IAAI;IACJC,OAAO,aACS;EAEd,SAAkCV,eAAe,CAACM,QAAQ,CAAC;IAA1DK,YAAY;IAAEC,eAAe,QAA6B;EAEjE;EACM,SAA4BtB,QAAQ,CAAC,EAAE,CAAC;IAAvCuB,SAAS;IAAEC,YAAY,QAAgB;EAC9C,IAAMC,qBAAqB,GAAG,UAC1BC,KAAoC;IAEpCF,YAAY,CAACE,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EACpC,CAAC;EAED,IAAMC,gBAAgB,GAAG,UAACC,CAA6B;IACnDA,CAAC,CAACC,cAAc,EAAE;IAClBC,QAAQ,EAAE;EACd,CAAC;EAED,IAAMA,QAAQ,GAAG;IACb,IAAMC,aAAa,GAAG;MAClBC,KAAK,EAAEX,SAAS;MAChBK,KAAK,EAAE;QACHO,MAAM,EAAElB,YAAY;QACpBE,IAAI;QACJC,OAAO;QACPF,gBAAgB;;KAEvB;IACD,IAAMkB,eAAe,GAAG3B,wBAAwB,CAACY,YAAY,CAAC;IAC9DC,eAAe,CAACc,eAAe,CAACC,MAAM,CAACJ,aAAa,CAAC,CAAC;IACtDT,YAAY,CAAC,EAAE,CAAC;IAChBV,OAAO,EAAE;EACb,CAAC;EAED,OACIf,oBAACK,MAAM;IACHS,IAAI,EAAEA,IAAI;IACVC,OAAO,EAAEA,OAAO;IAAA,mBACA;EAAmB,GAEnCf,oBAACQ,WAAW;IAAC+B,EAAE,EAAC;EAAmB,GAC9BvB,SAAS,CAAC,mCAAmC,EAAE;IAC5CwB,CAAC,EAAE;GACN,CAAC,CACQ,EACdxC,oBAACO,aAAa,QACVP;IAAMyC,QAAQ,EAAEX;EAAgB,GAC5B9B,oBAACS;EACG;EAAA;IAAA;IACAiC,SAAS;IACTC,MAAM,EAAC,OAAO;IACdJ,EAAE,EAAC,MAAM;IACTJ,KAAK,EAAEnB,SAAS,CAAC,6BAA6B,EAAE;MAC5CwB,CAAC,EAAE;KACN,CAAC;IACFI,SAAS;IACTf,KAAK,EAAEL,SAAS;IAChBqB,QAAQ,EAAEnB;EAAqB,EACjC,CACC,CACK,EAChB1B,oBAACM,aAAa,QACVN,oBAACI,MAAM;IAAC0C,OAAO,EAAE/B;EAAO,GACnBC,SAAS,CAAC,kBAAkB,CAAC,CACzB,EACThB,oBAACI,MAAM;IAAC0C,OAAO,EAAEb,QAAQ;IAAEc,KAAK,EAAC;EAAS,GACrC/B,SAAS,CAAC,gBAAgB,CAAC,CACvB,CACG,CACX;AAEjB,CAAC","names":["React","useState","useListContext","useTranslate","Button","Dialog","DialogActions","DialogContent","DialogTitle","TextField","extractValidSavedQueries","useSavedQueries","AddSavedQueryDialog","_a","open","onClose","translate","resource","filterValues","displayedFilters","sort","perPage","savedQueries","setSavedQueries","queryName","setQueryName","handleQueryNameChange","event","target","value","handleFormSubmit","e","preventDefault","addQuery","newSavedQuery","label","filter","newSavedQueries","concat","id","_","onSubmit","autoFocus","margin","fullWidth","onChange","onClick","color"],"sourceRoot":"","sources":["../../../../src/list/filter/AddSavedQueryDialog.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}