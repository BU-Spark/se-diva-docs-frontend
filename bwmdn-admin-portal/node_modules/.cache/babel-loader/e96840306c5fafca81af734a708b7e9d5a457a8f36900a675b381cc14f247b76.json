{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { useResourceContext, useGetList, useTimeout, useCreatePath } from 'ra-core';\nimport { Typography, CircularProgress } from '@mui/material';\nimport ErrorIcon from '@mui/icons-material/Error';\nimport { Link } from '../Link';\n/**\n * Fetch and render the number of records of a given resource\n *\n * Relies on dataProvider.getList() returning a total property\n *\n * @example // Display the number of recorfds in the current resource (based on RezsourceContext)\n * <Count />\n *\n * @example // Display the number of posts\n * <Count resource=\"posts\" />\n *\n * @example // Display the number of published posts\n * <Count resource=\"posts\" filter={{ is_published: true }}/>\n *\n * @example // Display the number of posts, with a custom Typography variant\n * <Count resource=\"posts\" variant=\"h1\" />\n *\n * @see ReferenceManyCount for a similar component which fetches the number of records related to the current one\n */\nexport var Count = function (props) {\n  var filter = props.filter,\n    link = props.link,\n    resourceFromProps = props.resource,\n    _a = props.timeout,\n    timeout = _a === void 0 ? 1000 : _a,\n    rest = __rest(props, [\"filter\", \"link\", \"resource\", \"timeout\"]);\n  var resource = useResourceContext(props);\n  var oneSecondHasPassed = useTimeout(timeout);\n  var createPath = useCreatePath();\n  var _b = useGetList(resource, {\n      filter: filter,\n      pagination: {\n        perPage: 1,\n        page: 1\n      }\n    }),\n    total = _b.total,\n    isLoading = _b.isLoading,\n    error = _b.error;\n  var body = isLoading ? oneSecondHasPassed ? React.createElement(CircularProgress, {\n    size: 14\n  }) : '' : error ? React.createElement(ErrorIcon, {\n    color: \"error\",\n    fontSize: \"small\",\n    titleAccess: \"error\"\n  }) : total;\n  return link ?\n  // @ts-ignore TypeScript complains that the props for <a> aren't the same as for <span>\n  React.createElement(Link, __assign({\n    to: {\n      pathname: createPath({\n        resource: resource,\n        type: 'list'\n      }),\n      search: filter ? \"filter=\".concat(JSON.stringify(filter)) : undefined\n    },\n    variant: \"body2\",\n    onClick: function (e) {\n      return e.stopPropagation();\n    }\n  }, rest), body) : React.createElement(Typography, __assign({\n    component: \"span\",\n    variant: \"body2\"\n  }, rest), body);\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SACIC,kBAAkB,EAClBC,UAAU,EACVC,UAAU,EACVC,aAAa,QACV,SAAS;AAChB,SAASC,UAAU,EAAmBC,gBAAgB,QAAQ,eAAe;AAC7E,OAAOC,SAAS,MAAM,2BAA2B;AAEjD,SAASC,IAAI,QAAQ,SAAS;AAE9B;;;;;;;;;;;;;;;;;;;AAmBA,OAAO,IAAMC,KAAK,GAAG,UAACC,KAAiB;EAE/B,UAAM,GAKNA,KAAK,OALC;IACNC,IAAI,GAIJD,KAAK,KAJD;IACME,iBAAiB,GAG3BF,KAAK,SAHsB;IAC3BG,KAEAH,KAAK,QAFS;IAAdI,OAAO,mBAAG,IAAI;IACXC,IAAI,UACPL,KAAK,EANH,yCAML,CADU;EAEX,IAAMM,QAAQ,GAAGf,kBAAkB,CAACS,KAAK,CAAC;EAC1C,IAAMO,kBAAkB,GAAGd,UAAU,CAACW,OAAO,CAAC;EAC9C,IAAMI,UAAU,GAAGd,aAAa,EAAE;EAE5B,SAA8BF,UAAU,CAACc,QAAQ,EAAE;MACrDG,MAAM;MACNC,UAAU,EAAE;QAAEC,OAAO,EAAE,CAAC;QAAEC,IAAI,EAAE;MAAC;KACpC,CAAC;IAHMC,KAAK;IAAEC,SAAS;IAAEC,KAAK,WAG7B;EAEF,IAAMC,IAAI,GAAGF,SAAS,GAClBP,kBAAkB,GACdjB,oBAACM,gBAAgB;IAACqB,IAAI,EAAE;EAAE,EAAI,GAE9B,EACH,GACDF,KAAK,GACLzB,oBAACO,SAAS;IAACqB,KAAK,EAAC,OAAO;IAACC,QAAQ,EAAC,OAAO;IAACC,WAAW,EAAC;EAAO,EAAG,GAEhEP,KACH;EAED,OAAOZ,IAAI;EACP;EACAX,oBAACQ,IAAI;IACDuB,EAAE,EAAE;MACAC,QAAQ,EAAEd,UAAU,CAAC;QAAEF,QAAQ;QAAEiB,IAAI,EAAE;MAAM,CAAE,CAAC;MAChDC,MAAM,EAAEf,MAAM,GAAG,iBAAUgB,IAAI,CAACC,SAAS,CAACjB,MAAM,CAAC,CAAE,GAAGkB;KACzD;IACDC,OAAO,EAAC,OAAO;IACfC,OAAO,EAAE,WAAC;MAAI,QAAC,CAACC,eAAe,EAAE;IAAnB;EAAmB,GAC7BzB,IAAI,GAEPW,IAAI,CACF,GAEP1B,oBAACK,UAAU;IAACoC,SAAS,EAAC,MAAM;IAACH,OAAO,EAAC;EAAO,GAAKvB,IAAI,GAChDW,IAAI,CAEZ;AACL,CAAC","names":["React","useResourceContext","useGetList","useTimeout","useCreatePath","Typography","CircularProgress","ErrorIcon","Link","Count","props","link","resourceFromProps","_a","timeout","rest","resource","oneSecondHasPassed","createPath","filter","pagination","perPage","page","total","isLoading","error","body","size","color","fontSize","titleAccess","to","pathname","type","search","JSON","stringify","undefined","variant","onClick","stopPropagation","component"],"sources":["/Users/paigedeveau/Desktop/se-diva-docs-frontend/bwmdn-admin-portal/node_modules/ra-ui-materialui/src/list/Count.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n    useResourceContext,\n    useGetList,\n    useTimeout,\n    useCreatePath,\n} from 'ra-core';\nimport { Typography, TypographyProps, CircularProgress } from '@mui/material';\nimport ErrorIcon from '@mui/icons-material/Error';\n\nimport { Link } from '../Link';\n\n/**\n * Fetch and render the number of records of a given resource\n *\n * Relies on dataProvider.getList() returning a total property\n *\n * @example // Display the number of recorfds in the current resource (based on RezsourceContext)\n * <Count />\n *\n * @example // Display the number of posts\n * <Count resource=\"posts\" />\n *\n * @example // Display the number of published posts\n * <Count resource=\"posts\" filter={{ is_published: true }}/>\n *\n * @example // Display the number of posts, with a custom Typography variant\n * <Count resource=\"posts\" variant=\"h1\" />\n *\n * @see ReferenceManyCount for a similar component which fetches the number of records related to the current one\n */\nexport const Count = (props: CountProps) => {\n    const {\n        filter,\n        link,\n        resource: resourceFromProps,\n        timeout = 1000,\n        ...rest\n    } = props;\n    const resource = useResourceContext(props);\n    const oneSecondHasPassed = useTimeout(timeout);\n    const createPath = useCreatePath();\n\n    const { total, isLoading, error } = useGetList(resource, {\n        filter,\n        pagination: { perPage: 1, page: 1 },\n    });\n\n    const body = isLoading ? (\n        oneSecondHasPassed ? (\n            <CircularProgress size={14} />\n        ) : (\n            ''\n        )\n    ) : error ? (\n        <ErrorIcon color=\"error\" fontSize=\"small\" titleAccess=\"error\" />\n    ) : (\n        total\n    );\n\n    return link ? (\n        // @ts-ignore TypeScript complains that the props for <a> aren't the same as for <span>\n        <Link\n            to={{\n                pathname: createPath({ resource, type: 'list' }),\n                search: filter ? `filter=${JSON.stringify(filter)}` : undefined,\n            }}\n            variant=\"body2\"\n            onClick={e => e.stopPropagation()}\n            {...rest}\n        >\n            {body}\n        </Link>\n    ) : (\n        <Typography component=\"span\" variant=\"body2\" {...rest}>\n            {body}\n        </Typography>\n    );\n};\n\nexport interface CountProps extends TypographyProps {\n    filter?: any;\n    link?: Boolean;\n    resource?: string;\n    timeout?: number;\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}