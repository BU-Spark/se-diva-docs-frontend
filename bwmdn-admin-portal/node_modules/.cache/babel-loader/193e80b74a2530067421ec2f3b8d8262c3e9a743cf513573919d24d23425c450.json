{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { useCallback, useMemo, useState, useRef, useEffect } from 'react';\nimport lodashDebounce from 'lodash/debounce';\nimport removeEmpty from '../../util/removeEmpty';\nimport { queryReducer, HIDE_FILTER, SET_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SHOW_FILTER, SORT_ASC } from '../list';\n/**\n * Get the reference inputs parameters (page, sort, filters) and modifiers.\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [referenceParams, referenceParamsActions] = useReferenceParams({\n *      resource: 'posts',\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = referenceParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = referenceParamsActions;\n */\nexport var useReferenceParams = function (_a) {\n  var resource = _a.resource,\n    filter = _a.filter,\n    _b = _a.sort,\n    sort = _b === void 0 ? defaultSort : _b,\n    _c = _a.page,\n    page = _c === void 0 ? 1 : _c,\n    _d = _a.perPage,\n    perPage = _d === void 0 ? 10 : _d,\n    _e = _a.debounce,\n    debounce = _e === void 0 ? 500 : _e;\n  var _f = useState(defaultParams),\n    params = _f[0],\n    setParams = _f[1];\n  var tempParams = useRef();\n  var requestSignature = [resource, JSON.stringify(params), JSON.stringify(filter), JSON.stringify(sort), page, perPage];\n  var query = useMemo(function () {\n    return getQuery({\n      params: params,\n      filterDefaultValues: filter,\n      sort: sort,\n      page: page,\n      perPage: perPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var changeParams = useCallback(function (action) {\n    if (!tempParams.current) {\n      // no other changeParams action dispatched this tick\n      tempParams.current = queryReducer(query, action);\n      // schedule side effects for next tick\n      setTimeout(function () {\n        setParams(tempParams.current);\n        tempParams.current = undefined;\n      }, 0);\n    } else {\n      // side effects already scheduled, just change the params\n      tempParams.current = queryReducer(tempParams.current, action);\n    }\n  }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n  var setSort = useCallback(function (sort) {\n    return changeParams({\n      type: SET_SORT,\n      payload: sort\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var setPage = useCallback(function (newPage) {\n    return changeParams({\n      type: SET_PAGE,\n      payload: newPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var setPerPage = useCallback(function (newPerPage) {\n    return changeParams({\n      type: SET_PER_PAGE,\n      payload: newPerPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var filterValues = query.filter || emptyObject;\n  var displayedFilterValues = query.displayedFilters || emptyObject;\n  var debouncedSetFilters = useRef(lodashDebounce(function (filter, displayedFilters) {\n    changeParams({\n      type: SET_FILTER,\n      payload: {\n        filter: removeEmpty(filter),\n        displayedFilters: displayedFilters\n      }\n    });\n  }, debounce));\n  useEffect(function () {\n    return function () {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      debouncedSetFilters.current.cancel();\n    };\n  }, []);\n  var setFilters = useCallback(function (filter, displayedFilters, debounce) {\n    if (debounce === void 0) {\n      debounce = true;\n    }\n    debounce ? debouncedSetFilters.current(filter, displayedFilters) : changeParams({\n      type: SET_FILTER,\n      payload: {\n        filter: removeEmpty(filter),\n        displayedFilters: displayedFilters\n      }\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var hideFilter = useCallback(function (filterName) {\n    changeParams({\n      type: HIDE_FILTER,\n      payload: filterName\n    });\n  }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n  var showFilter = useCallback(function (filterName, defaultValue) {\n    changeParams({\n      type: SHOW_FILTER,\n      payload: {\n        filterName: filterName,\n        defaultValue: defaultValue\n      }\n    });\n  }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n  return [__assign({\n    displayedFilters: displayedFilterValues,\n    filterValues: filterValues,\n    requestSignature: requestSignature\n  }, query), {\n    changeParams: changeParams,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    setSort: setSort,\n    setFilters: setFilters,\n    hideFilter: hideFilter,\n    showFilter: showFilter\n  }];\n};\nexport var validQueryParams = ['page', 'perPage', 'sort', 'order', 'filter', 'displayedFilters'];\n/**\n * Merge list params from 2 different sources:\n *   - the params stored in the local state\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport var getQuery = function (_a) {\n  var params = _a.params,\n    filterDefaultValues = _a.filterDefaultValues,\n    sort = _a.sort,\n    page = _a.page,\n    perPage = _a.perPage;\n  var query = hasCustomParams(params) ? __assign({}, params) : {\n    filter: filterDefaultValues || {}\n  };\n  if (!query.sort) {\n    query.sort = sort.field;\n    query.order = sort.order;\n  }\n  if (query.page == null) {\n    query.page = page;\n  }\n  if (query.perPage == null) {\n    query.perPage = perPage;\n  }\n  if (query.page == null) {\n    query.page = 1;\n  }\n  return __assign(__assign({}, query), {\n    page: getNumberOrDefault(query.page, 1),\n    perPage: getNumberOrDefault(query.perPage, 10)\n  });\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport var hasCustomParams = function (params) {\n  return params && params.filter && (Object.keys(params.filter).length > 0 || params.order != null || params.page !== 1 || params.perPage != null || params.sort != null);\n};\nexport var getNumberOrDefault = function (possibleNumber, defaultValue) {\n  var parsedNumber = typeof possibleNumber === 'string' ? parseInt(possibleNumber, 10) : possibleNumber;\n  return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\nvar emptyObject = {};\nvar defaultSort = {\n  field: 'id',\n  order: SORT_ASC\n};\nvar defaultParams = {};","map":{"version":3,"mappings":"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","names":["useCallback","useMemo","useState","useRef","useEffect","lodashDebounce","removeEmpty","queryReducer","HIDE_FILTER","SET_FILTER","SET_PAGE","SET_PER_PAGE","SET_SORT","SHOW_FILTER","SORT_ASC","useReferenceParams","_a","resource","filter","_b","sort","defaultSort","_c","page","_d","perPage","_e","debounce","defaultParams","params","setParams","tempParams","requestSignature","JSON","stringify","query","filterDefaultValues","changeParams","current","action","setTimeout","undefined","setSort","type","payload","setPage","newPage","setPerPage","newPerPage","filterValues","emptyObject","displayedFilterValues","displayedFilters","debouncedSetFilters","cancel","setFilters","hideFilter","filterName","showFilter","defaultValue","validQueryParams","getQuery","hasCustomParams","__assign","field","order","getNumberOrDefault","Object","keys","length","possibleNumber","parsedNumber","parseInt","isNaN"],"sources":["/Users/paigedeveau/Desktop/se-diva-docs-frontend/bwmdn-admin-portal/node_modules/ra-core/src/controller/input/useReferenceParams.ts"],"sourcesContent":["import { useCallback, useMemo, useState, useRef, useEffect } from 'react';\nimport lodashDebounce from 'lodash/debounce';\n\nimport { SortPayload, FilterPayload } from '../../types';\nimport removeEmpty from '../../util/removeEmpty';\nimport {\n    queryReducer,\n    HIDE_FILTER,\n    SET_FILTER,\n    SET_PAGE,\n    SET_PER_PAGE,\n    SET_SORT,\n    SHOW_FILTER,\n    SORT_ASC,\n} from '../list';\n\n/**\n * Get the reference inputs parameters (page, sort, filters) and modifiers.\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [referenceParams, referenceParamsActions] = useReferenceParams({\n *      resource: 'posts',\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = referenceParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = referenceParamsActions;\n */\nexport const useReferenceParams = ({\n    resource,\n    filter,\n    sort = defaultSort,\n    page = 1,\n    perPage = 10,\n    debounce = 500,\n}: ReferenceParamsOptions): [Parameters, Modifiers] => {\n    const [params, setParams] = useState(defaultParams);\n    const tempParams = useRef<ReferenceParams>();\n\n    const requestSignature = [\n        resource,\n        JSON.stringify(params),\n        JSON.stringify(filter),\n        JSON.stringify(sort),\n        page,\n        perPage,\n    ];\n\n    const query = useMemo(\n        () =>\n            getQuery({\n                params: params,\n                filterDefaultValues: filter,\n                sort,\n                page,\n                perPage,\n            }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const changeParams = useCallback(action => {\n        if (!tempParams.current) {\n            // no other changeParams action dispatched this tick\n            tempParams.current = queryReducer(query, action);\n            // schedule side effects for next tick\n            setTimeout(() => {\n                setParams(tempParams.current);\n                tempParams.current = undefined;\n            }, 0);\n        } else {\n            // side effects already scheduled, just change the params\n            tempParams.current = queryReducer(tempParams.current, action);\n        }\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const setSort = useCallback(\n        (sort: SortPayload) =>\n            changeParams({\n                type: SET_SORT,\n                payload: sort,\n            }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const setPage = useCallback(\n        (newPage: number) => changeParams({ type: SET_PAGE, payload: newPage }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const setPerPage = useCallback(\n        (newPerPage: number) =>\n            changeParams({ type: SET_PER_PAGE, payload: newPerPage }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const filterValues = query.filter || emptyObject;\n    const displayedFilterValues = query.displayedFilters || emptyObject;\n\n    const debouncedSetFilters = useRef(\n        lodashDebounce((filter, displayedFilters) => {\n            changeParams({\n                type: SET_FILTER,\n                payload: {\n                    filter: removeEmpty(filter),\n                    displayedFilters,\n                },\n            });\n        }, debounce)\n    );\n    useEffect(() => {\n        return () => {\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n            debouncedSetFilters.current.cancel();\n        };\n    }, []);\n\n    const setFilters = useCallback(\n        (filter, displayedFilters, debounce = true) => {\n            debounce\n                ? debouncedSetFilters.current(filter, displayedFilters)\n                : changeParams({\n                      type: SET_FILTER,\n                      payload: {\n                          filter: removeEmpty(filter),\n                          displayedFilters,\n                      },\n                  });\n        },\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const hideFilter = useCallback((filterName: string) => {\n        changeParams({\n            type: HIDE_FILTER,\n            payload: filterName,\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const showFilter = useCallback((filterName: string, defaultValue: any) => {\n        changeParams({\n            type: SHOW_FILTER,\n            payload: {\n                filterName,\n                defaultValue,\n            },\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    return [\n        {\n            displayedFilters: displayedFilterValues,\n            filterValues,\n            requestSignature,\n            ...query,\n        },\n        {\n            changeParams,\n            setPage,\n            setPerPage,\n            setSort,\n            setFilters,\n            hideFilter,\n            showFilter,\n        },\n    ];\n};\n\nexport const validQueryParams = [\n    'page',\n    'perPage',\n    'sort',\n    'order',\n    'filter',\n    'displayedFilters',\n];\n\n/**\n * Merge list params from 2 different sources:\n *   - the params stored in the local state\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport const getQuery = ({\n    params,\n    filterDefaultValues,\n    sort,\n    page,\n    perPage,\n}) => {\n    const query: Partial<ReferenceParams> = hasCustomParams(params)\n        ? { ...params }\n        : { filter: filterDefaultValues || {} };\n\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (query.page == null) {\n        query.page = page;\n    }\n    if (query.perPage == null) {\n        query.perPage = perPage;\n    }\n    if (query.page == null) {\n        query.page = 1;\n    }\n\n    return {\n        ...query,\n        page: getNumberOrDefault(query.page, 1),\n        perPage: getNumberOrDefault(query.perPage, 10),\n    } as ReferenceParams;\n};\n\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport const hasCustomParams = (params: ReferenceParams) => {\n    return (\n        params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null)\n    );\n};\n\nexport const getNumberOrDefault = (\n    possibleNumber: string | number | undefined,\n    defaultValue: number\n) => {\n    const parsedNumber =\n        typeof possibleNumber === 'string'\n            ? parseInt(possibleNumber, 10)\n            : possibleNumber;\n\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\n\nexport interface ReferenceParamsOptions {\n    resource: string;\n    page?: number;\n    perPage?: number;\n    sort?: SortPayload;\n    // default value for a filter when displayed but not yet set\n    filter?: FilterPayload;\n    debounce?: number;\n}\n\nexport interface ReferenceParams {\n    sort: string;\n    order: string;\n    page: number;\n    perPage: number;\n    filter: any;\n    displayedFilters: any;\n}\n\ninterface Parameters extends ReferenceParams {\n    filterValues: object;\n    displayedFilters: {\n        [key: string]: boolean;\n    };\n    requestSignature: any[];\n}\n\ninterface Modifiers {\n    changeParams: (action: any) => void;\n    setPage: (page: number) => void;\n    setPerPage: (pageSize: number) => void;\n    setSort: (sort: SortPayload) => void;\n    setFilters: (filters: any, displayedFilters: any) => void;\n    hideFilter: (filterName: string) => void;\n    showFilter: (filterName: string, defaultValue: any) => void;\n}\n\nconst emptyObject = {};\n\nconst defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\n\nconst defaultParams = {};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}