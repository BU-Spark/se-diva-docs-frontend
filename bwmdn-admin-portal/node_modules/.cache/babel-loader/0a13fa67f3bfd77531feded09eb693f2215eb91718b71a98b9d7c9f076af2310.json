{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { useQueryClient, QueryObserver } from 'react-query';\n/**\n * Check if react-query has already fetched data for a query key.\n *\n * This hook is reactive.\n *\n * @example\n * const isCustomerLoaded = useIsDataLoaded(['customers', 'getOne', { id: customerId }]);\n *\n * @returns {boolean} true if the data is loaded, false otherwise\n */\nexport var useIsDataLoaded = function (queryKey, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var _a = options.enabled,\n    enabled = _a === void 0 ? true : _a;\n  var queryClient = useQueryClient();\n  var _b = useState(function () {\n      if (!enabled) {\n        return false;\n      }\n      return queryClient.getQueryData(queryKey) !== undefined;\n    }),\n    isDataLoaded = _b[0],\n    setDataLoaded = _b[1];\n  useEffect(function () {\n    if (!enabled) return;\n    if (queryClient.getQueryData(queryKey) === undefined) {\n      var observer = new QueryObserver(queryClient, {\n        queryKey: queryKey\n      });\n      var unsubscribe_1 = observer.subscribe(function (result) {\n        setDataLoaded(!result.isLoading);\n        unsubscribe_1();\n      });\n      return unsubscribe_1;\n    }\n  }, [enabled, queryKey, queryClient]);\n  return isDataLoaded;\n};","map":{"version":3,"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,cAAc,EAAEC,aAAa,QAAQ,aAAa;AAE3D;;;;;;;;;;AAUA,OAAO,IAAMC,eAAe,GAAG,UAC3BC,QAAa,EACbC,OAAmC;EAAnC;IAAAA,YAAmC;EAAA;EAE3B,SAAmBA,OAAO,QAAZ;IAAdC,OAAO,mBAAG,IAAI;EACtB,IAAMC,WAAW,GAAGN,cAAc,EAAE;EAC9B,SAAgCD,QAAQ,CAAU;MACpD,IAAI,CAACM,OAAO,EAAE;QACV,OAAO,KAAK;;MAEhB,OAAOC,WAAW,CAACC,YAAY,CAACJ,QAAQ,CAAC,KAAKK,SAAS;IAC3D,CAAC,CAAC;IALKC,YAAY;IAAEC,aAAa,QAKhC;EAEFZ,SAAS,CAAC;IACN,IAAI,CAACO,OAAO,EAAE;IACd,IAAIC,WAAW,CAACC,YAAY,CAACJ,QAAQ,CAAC,KAAKK,SAAS,EAAE;MAClD,IAAMG,QAAQ,GAAG,IAAIV,aAAa,CAACK,WAAW,EAAE;QAAEH,QAAQ;MAAA,CAAE,CAAC;MAC7D,IAAMS,aAAW,GAAGD,QAAQ,CAACE,SAAS,CAAC,gBAAM;QACzCH,aAAa,CAAC,CAACI,MAAM,CAACC,SAAS,CAAC;QAChCH,aAAW,EAAE;MACjB,CAAC,CAAC;MACF,OAAOA,aAAW;;EAE1B,CAAC,EAAE,CAACP,OAAO,EAAEF,QAAQ,EAAEG,WAAW,CAAC,CAAC;EAEpC,OAAOG,YAAY;AACvB,CAAC","names":["useEffect","useState","useQueryClient","QueryObserver","useIsDataLoaded","queryKey","options","enabled","queryClient","getQueryData","undefined","isDataLoaded","setDataLoaded","observer","unsubscribe_1","subscribe","result","isLoading"],"sources":["/Users/paigedeveau/Desktop/se-diva-docs-frontend/bwmdn-admin-portal/node_modules/ra-core/src/dataProvider/useIsDataLoaded.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useQueryClient, QueryObserver } from 'react-query';\n\n/**\n * Check if react-query has already fetched data for a query key.\n *\n * This hook is reactive.\n *\n * @example\n * const isCustomerLoaded = useIsDataLoaded(['customers', 'getOne', { id: customerId }]);\n *\n * @returns {boolean} true if the data is loaded, false otherwise\n */\nexport const useIsDataLoaded = (\n    queryKey: any,\n    options: { enabled?: boolean } = {}\n) => {\n    const { enabled = true } = options;\n    const queryClient = useQueryClient();\n    const [isDataLoaded, setDataLoaded] = useState<boolean>(() => {\n        if (!enabled) {\n            return false;\n        }\n        return queryClient.getQueryData(queryKey) !== undefined;\n    });\n\n    useEffect(() => {\n        if (!enabled) return;\n        if (queryClient.getQueryData(queryKey) === undefined) {\n            const observer = new QueryObserver(queryClient, { queryKey });\n            const unsubscribe = observer.subscribe(result => {\n                setDataLoaded(!result.isLoading);\n                unsubscribe();\n            });\n            return unsubscribe;\n        }\n    }, [enabled, queryKey, queryClient]);\n\n    return isDataLoaded;\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}