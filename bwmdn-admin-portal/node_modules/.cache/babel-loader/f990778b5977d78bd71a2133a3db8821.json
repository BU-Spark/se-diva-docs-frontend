{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport { memo, isValidElement } from 'react';\nimport { IconButton, ListItem, ListItemButton, ListItemText, ListItemSecondaryAction } from '@mui/material';\nimport CancelIcon from '@mui/icons-material/CancelOutlined';\nimport { useTranslate, useListFilterContext, shallowEqual } from 'ra-core';\nimport matches from 'lodash/matches';\nimport pickBy from 'lodash/pickBy';\nvar arePropsEqual = function (prevProps, nextProps) {\n  return prevProps.label === nextProps.label && shallowEqual(prevProps.value, nextProps.value);\n};\n/**\n * Button to enable/disable a list filter.\n *\n * Expects 2 props:\n *\n * - label: The text (or React element) to be displayed for this item.\n *   If it's a string, the component will translate it.\n * - value: An object to be merged into the filter value when enabling the filter\n *   (e.g. { is_published: true, published_at_gte: '2020-07-08' })\n *\n * @example\n *\n * import * as React from 'react';\n * import { Card, CardContent } from '@mui/material';\n * import MailIcon from '@mui/icons-material/MailOutline';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Subscribed to newsletter\"\n *                 icon={<MailIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Yes\"\n *                     value={{ has_newsletter: true }}\n *                  />\n *                 <FilterListItem\n *                     label=\"No\"\n *                     value={{ has_newsletter: false }}\n *                  />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n *\n * @example // The value prop can contain multiple keys\n *\n * import * as React from 'react';\n * import {\n *     endOfYesterday,\n *     startOfWeek,\n *     subWeeks,\n *     startOfMonth,\n *     subMonths,\n * } from 'date-fns';\n * import { Card, CardContent } from '@mui/material';\n * import AccessTimeIcon from '@mui/icons-material/AccessTime';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Last visited\"\n *                 icon={<AccessTimeIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Today\"\n *                     value={{\n *                         last_seen_gte: endOfYesterday().toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This week\"\n *                     value={{\n *                         last_seen_gte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last week\"\n *                     value={{\n *                         last_seen_gte: subWeeks(\n *                             startOfWeek(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This month\"\n *                     value={{\n *                         last_seen_gte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last month\"\n *                     value={{\n *                         last_seen_gte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Earlier\"\n *                     value={{\n *                         last_seen_gte: undefined,\n *                         last_seen_lte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                     }}\n *                 />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n */\nexport var FilterListItem = memo(function (props) {\n  var label = props.label,\n    value = props.value,\n    rest = __rest(props, [\"label\", \"value\"]);\n  var _a = useListFilterContext(),\n    filterValues = _a.filterValues,\n    setFilters = _a.setFilters;\n  var translate = useTranslate();\n  var isSelected = matches(pickBy(value, function (val) {\n    return typeof val !== 'undefined';\n  }))(filterValues);\n  var addFilter = function () {\n    setFilters(__assign(__assign({}, filterValues), value), null, false);\n  };\n  var removeFilter = function () {\n    var keysToRemove = Object.keys(value);\n    var filters = Object.keys(filterValues).reduce(function (acc, key) {\n      var _a;\n      return keysToRemove.includes(key) ? acc : __assign(__assign({}, acc), (_a = {}, _a[key] = filterValues[key], _a));\n    }, {});\n    setFilters(filters, null, false);\n  };\n  var toggleFilter = function () {\n    return isSelected ? removeFilter() : addFilter();\n  };\n  return React.createElement(StyledListItem, __assign({\n    onClick: toggleFilter,\n    selected: isSelected,\n    disablePadding: true\n  }, rest), React.createElement(ListItemButton, {\n    disableGutters: true,\n    className: FilterListItemClasses.listItemButton\n  }, React.createElement(ListItemText, {\n    primary: isValidElement(label) ? label : translate(label, {\n      _: label\n    }),\n    className: FilterListItemClasses.listItemText,\n    \"data-selected\": isSelected ? 'true' : 'false'\n  }), isSelected && React.createElement(ListItemSecondaryAction, {\n    onClick: function (event) {\n      event.stopPropagation();\n      toggleFilter();\n    }\n  }, React.createElement(IconButton, {\n    size: \"small\"\n  }, React.createElement(CancelIcon, null)))));\n}, arePropsEqual);\nvar PREFIX = 'RaFilterListItem';\nexport var FilterListItemClasses = {\n  listItemButton: \"\".concat(PREFIX, \"-listItemButton\"),\n  listItemText: \"\".concat(PREFIX, \"-listItemText\")\n};\nvar StyledListItem = styled(ListItem, {\n  name: PREFIX,\n  overridesResolver: function (props, styles) {\n    return styles.root;\n  }\n})(function (_a) {\n  var _b;\n  var theme = _a.theme;\n  return _b = {}, _b[\"& .\".concat(FilterListItemClasses.listItemButton)] = {\n    paddingRight: '2em',\n    paddingLeft: '2em'\n  }, _b[\"& .\".concat(FilterListItemClasses.listItemText)] = {\n    margin: 0\n  }, _b;\n});","map":{"version":3,"mappings":"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","names":["React","styled","memo","isValidElement","IconButton","ListItem","ListItemButton","ListItemText","ListItemSecondaryAction","CancelIcon","useTranslate","useListFilterContext","shallowEqual","matches","pickBy","arePropsEqual","prevProps","nextProps","label","value","FilterListItem","props","rest","filterValues","setFilters","translate","isSelected","val","addFilter","removeFilter","keysToRemove","Object","keys","filters","reduce","acc","key","includes","__assign","toggleFilter","StyledListItem","onClick","selected","disablePadding","disableGutters","className","FilterListItemClasses","listItemButton","primary","_","listItemText","event","stopPropagation","size","PREFIX","name","overridesResolver","styles","root","_a","theme","_b","paddingRight","paddingLeft","margin"],"sourceRoot":"","sources":["../../../../src/list/filter/FilterListItem.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}